[comment encoding = UTF-8 /]
[module test('http://www.eclipse.org/uml2/5.0.0/UML')/]

[template public test(mModel : Model)]
	
	[comment @main /]
	[file (mModel.name.concat('-test.json'), false, 'UTF-8')]
[for (aClass : Class | mModel.eContents(Class))]
[if (not aClass.oclIsUndefined())]
[aClass.name.toUpperFirst()/].json = {
[for (p: Property | aClass.attribute)]
[p.name/]:[p.type.name/],
[/for]
'active':true
}
[/if]
[/for]

[for (bInstance : InstanceSpecification | mModel.eContents(InstanceSpecification))]
[if (not bInstance.oclIsUndefined())]
[bInstance.name.toUpperFirst()/].json = {
[for (p: Slot | bInstance.slot)]
[let val : ValueSpecification = p.value->first()]
'[val.name/]':[val.stringValue()/],
[/let]
[/for]
'active':true
}
[/if]
[/for]
[/file]
	
[/template]
